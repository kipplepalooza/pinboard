<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
<title>Pinboard Toolbar Button</title>
<style type="text/css">.menu-item{font:normal 12px helvetica,arial,verdana;padding:4px;text-indent:22px;cursor:hand;color:#555;width:143;background-color:#fff;background-image:url('gray_star.png');background-repeat:no-repeat;background-position:5px 5px;border-bottom:1px solid #eee}.menu-item:first-child{-webkit-border-top-left-radius:3px;-webkit-border-top-right-radius:3px}.menu-item:last-child{-webkit-border-bottom-left-radius:3px;-webkit-border-bottom-right-radius:3px;border-bottom-style:none}.menu-item:hover{color:#11A;background-color:#f2f2f2;background-image:url('blue_star.png')}</style>
<script type="text/javascript">/*<![CDATA[*/function addMenuItem(c,b){var a=document.getElementById("menu");if(null!=a){var d=document.createElement("div");d.setAttribute("class","menu-item");d.setAttribute("onclick",b);d.appendChild(document.createTextNode(c));a.appendChild(d)}}function addMenuItems(){var c=chrome.extension.getBackgroundPage().getOptions();if(""==c.userName){addMenuItem("Setup User Name",'openUrl("'+chrome.extension.getURL("options.html")+'"); window.close();')}else{var a=c.menuItems.length;if(0==a){addMenuItem("Setup Menu Items",'openUrl("'+chrome.extension.getURL("options.html")+'"); window.close();')}else{var g="yes"==c.reuseTabs?"reopenUrl":"openUrl";var f="yes"==c.useHttps?"https://":"http://";var b=chrome.extension.getBackgroundPage().getAllMenuItems();for(var d=0;d<a;++d){var e=c.menuItems[d];if("allBookmarks"==e){addMenuItem(b[e],g+'("'+f+"pinboard.in/u:"+c.userName+'/");')}else{if("privateBookmarks"==e){addMenuItem(b[e],g+'("'+f+"pinboard.in/u:"+c.userName+'/private/");')}else{if("publicBookmarks"==e){addMenuItem(b[e],g+'("'+f+"pinboard.in/u:"+c.userName+'/public/");')}else{if("unreadBookmarks"==e){addMenuItem(b[e],g+'("'+f+"pinboard.in/u:"+c.userName+'/unread/");')}else{if("untaggedBookmarks"==e){addMenuItem(b[e],g+'("'+f+"pinboard.in/u:"+c.userName+'/untagged/");')}else{if("starredBookmarks"==e){addMenuItem(b[e],g+'("'+f+"pinboard.in/u:"+c.userName+'/starred/");')}else{if("networkBookmarks"==e){addMenuItem(b[e],g+'("'+f+'pinboard.in/network/");')}else{if("recentBookmarks"==e){addMenuItem(b[e],g+'("'+f+'pinboard.in/recent/");')}else{if("popularBookmarks"==e){addMenuItem(b[e],g+'("'+f+'pinboard.in/popular/");')}else{if("saveBookmark"==e){addMenuItem(b[e],"saveBookmark();")}else{if("readLater"==e){addMenuItem(b[e],"readLater();")}else{if("addNote"==e){addMenuItem(b[e],'openUrl("'+f+'pinboard.in/note/add/");')}}}}}}}}}}}}}}}}function openUrl(a){chrome.tabs.create({url:a});window.close()}function reopenUrl(a){chrome.tabs.getAllInWindow(null,function(c){for(var b in c){var d=c[b];if(d.url==a){chrome.tabs.update(d.id,{url:a,selected:true});return}}chrome.tabs.create({url:a});window.close()})}function saveBookmark(){chrome.tabs.getSelected(null,function(b){var a="";if(a.length>0){window.open("https://pinboard.in/add?jump=close&url="+encodeURIComponent(b.url)+"&title="+encodeURIComponent(b.title)+"&description="+encodeURIComponent(a.substr(0,256)),"pinboad.in","location=no,links=no,scrollbars=no,toolbar=no,width=700,height=350")}else{window.open("https://pinboard.in/add?jump=close&url="+encodeURIComponent(b.url)+"&title="+encodeURIComponent(b.title),"pinboad.in","location=no,links=no,scrollbars=no,toolbar=no,width=700,height=350")}})}function readLater(){chrome.tabs.getSelected(null,function(a){window.open("https://pinboard.in/add?later=yes&noui=yes&jump=close&url="+encodeURIComponent(a.url)+"&title="+encodeURIComponent(a.title),"pinboad.in","location=no,links=no,scrollbars=no,toolbar=no,width=0,height=0")})};/*]]>*/</script>
</head>
<body onload="addMenuItems()">
<div id="menu">
</div>
</body>
</html>